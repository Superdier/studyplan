<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N1 Study Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <div class="user-info">
                <img src="https://ui-avatars.com/api/?name=JLPT+Student&background=fdbb2d&color=fff" alt="User">
                <div>Ch√¢m n√®</div>
            </div>

            <h1><i class="fas fa-book-open"></i> L·ªô Tr√¨nh H·ªçc JLPT N1</h1>
            <div class="subtitle">
                K·∫ø ho·∫°ch h·ªçc t·∫≠p t·ª´ 10/7/2025 ƒë·∫øn 6/12/2025 - T·∫≠p trung v√†o Ng·ªØ ph√°p v√† Nghe hi·ªÉu
            </div>
            <div class="date-range">
                <i class="fas fa-calendar-alt"></i> 10/07/2025 - 06/12/2025 (21 tu·∫ßn)
            </div>
            <button id="start-study-btn" class="btn btn-primary week-btn" style="margin-top: 15px">
                <i class="fas fa-play-circle"></i> B·∫Øt ƒë·∫ßu h·ªçc
            </button>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="schedule">L·ªãch h·ªçc</div>
            <div class="tab" data-tab="stats">Th·ªëng k√™</div>
            <div class="tab" data-tab="resources">T√†i nguy√™n</div>
        </div>

        <div class="tab-content active" id="schedule-tab">
            <div class="content">
                <div class="card" id="weekly-planner">
                    <h2 class="card-title">
                        <i class="fas fa-calendar-week"></i> L·ªãch h·ªçc tu·∫ßn n√†y
                    </h2>

                    <div class="week-selector">
                        <button class="week-btn" id="prev-week">
                            <i class="fas fa-chevron-left"></i> Tu·∫ßn tr∆∞·ªõc
                        </button>
                        <div class="current-week" id="current-week-display">
                            Tu·∫ßn 1: 10/07 - 16/07
                            <span class="phase-badge" style="margin-left: 10px;">C·ªßng c·ªë N2</span>
                        </div>
                        <button class="week-btn" id="next-week">
                            Tu·∫ßn sau <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="schedule-grid" id="weekly-schedule">
                        <!-- L·ªãch s·∫Ω ƒë∆∞·ª£c render t·ª´ JavaScript -->
                    </div>

                    <div class="completed-count">
                        <i class="fas fa-tasks"></i> ƒê√£ ho√†n th√†nh:
                        <span id="completed-count">0</span>/<span id="total-tasks">0</span> nhi·ªám v·ª•
                    </div>

                    <div class="progress-container">
                        <div class="progress-header">
                            <span>Ti·∫øn ƒë·ªô tu·∫ßn</span>
                            <span id="week-progress">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                    </div>
                </div>

                <div id="study-summary" class="card">
                    <h2 class="card-title">
                        <i class="fas fa-chart-line"></i> Th·ªëng k√™ & T√†i nguy√™n
                    </h2>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-book fa-2x"></i>
                            <div class="stat-value">21</div>
                            <div class="stat-label">Tu·∫ßn h·ªçc t·∫≠p</div>
                        </div>

                        <div class="stat-card">
                            <i class="fas fa-bullseye fa-2x"></i>
                            <div class="stat-value">N1</div>
                            <div class="stat-label">M·ª•c ti√™u cu·ªëi c√πng</div>
                        </div>

                        <div class="stat-card">
                            <i class="fas fa-hourglass-half fa-2x"></i>
                            <div class="stat-value">142</div>
                            <div class="stat-label">Ng√†y c√≤n l·∫°i</div>
                        </div>
                    </div>

                    <div class="resources">
                        <h3><i class="fas fa-bookmark"></i> T√†i li·ªáu h·ªçc t·∫≠p</h3>
                        <ul class="resource-list" id="recommended-resources">
                            <li class="resource-item">
                                <i class="fas fa-book"></i><a
                                    href="https://drive.google.com/drive/folders/18pEPRYZCFwDM1mfG-Ul8LxIkrQjNuAYc?usp=sharing">
                                    Shin Kanzen Master N1</a>
                            </li>
                            <li class="resource-item">
                                <i class="fas fa-book"></i><a
                                    href="https://drive.google.com/drive/folders/1A53-PaWkIfyKqYBrDeEI3PPHnAQMUjU8?usp=sharing">
                                    Soumatome N1</a>
                            </li>
                            <li class="resource-item">
                                <i class="fas fa-book"></i><a href="https://supernative.tv/ja/"> Super Native
                                    Japanese</a>
                            </li>
                            <li class="resource-item">
                                <i class="fas fa-book"></i><a href="https://flashcard-ashen-three.vercel.app/">Flashcard
                                    Web</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="stats-tab">
            <div class="stats-container"> <!-- Th√™m container ch√≠nh -->
                <div class="stat-section"> <!-- Ph·∫ßn th·∫ª th·ªëng k√™ -->
                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-chart-pie"></i> T·ªïng quan h·ªçc t·∫≠p</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <i class="fas fa-clock fa-2x"></i>
                                <div class="stat-value" id="total-hours">0</div>
                                <div class="stat-label">Gi·ªù h·ªçc t·ªïng</div>
                            </div>

                            <div class="stat-card">
                                <i class="fas fa-tasks fa-2x"></i>
                                <div class="stat-value" id="completion-rate">0%</div>
                                <div class="stat-label">T·ª∑ l·ªá ho√†n th√†nh</div>
                            </div>

                            <div class="stat-card">
                                <i class="fas fa-fire fa-2x"></i>
                                <div class="stat-value" id="streak-days">0</div>
                                <div class="stat-label">Ng√†y h·ªçc li√™n ti·∫øp</div>
                            </div>

                            <div class="stat-card">
                                <i class="fas fa-check-circle fa-2x"></i>
                                <div class="stat-value" id="lessons-learned">0</div>
                                <div class="stat-label">B√†i ƒë√£ ho√†n th√†nh</div>
                            </div>
                        </div>

                        <!-- Bi·ªÉu ƒë·ªì ti·∫øn ƒë·ªô tu·∫ßn (full width) -->
                        <div class="stat-section full-width">
                            <div class="card">
                                <div class="chart-header">
                                    <h3><i class="fas fa-chart-line"></i> Ti·∫øn ƒë·ªô theo tu·∫ßn</h3>
                                </div>
                                <div class="chart-wrapper large-chart">
                                    <canvas id="progressChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="dual-chart-row">
                            <!-- Bi·ªÉu ƒë·ªì ƒë√°nh gi√° k·ªπ nƒÉng -->
                            <div class="stat-section half-width">
                                <div class="card">
                                    <div class="chart-header">
                                        <h3><i class="fas fa-star"></i> ƒê√°nh gi√° k·ªπ nƒÉng</h3>
                                    </div>
                                    <div class="chart-wrapper medium-chart">
                                        <canvas id="skillRadarChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="stat-section half-width">
                                <div class="card">
                                    <div class="chart-header">
                                        <h3><i class="fas fa-clock"></i> Ph√¢n b·ªë th·ªùi gian h·ªçc</h3>
                                    </div>
                                    <div class="chart-wrapper medium-chart">
                                        <canvas id="timeDistributionChart"></canvas>
                                    </div>
                                    <div class="task-type-list" id="taskTypeList"></div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-section">
                            <div class="card">
                                <div class="chart-header">
                                    <h3><i class="fas fa-book"></i> C√°c lo·∫°i b√†i t·∫≠p ƒë√£ h·ªçc</h3>
                                </div>
                                <div class="task-category-container" id="taskCategoryContainer"></div>
                            </div>
                        </div>

                        <!-- Trong ph·∫ßn ƒê√°nh gi√° th·ªùi gian h·ªçc hi·ªáu qu·∫£ -->
                        <div class="stat-section">
                            <div class="card">
                                <div class="chart-header">
                                    <h3><i class="fas fa-book"></i> ƒê√°nh gi√° th·ªùi gian h·ªçc hi·ªáu qu·∫£</h3>
                                </div>

                                <div class="stat-card">
                                    <i class="fas fa-calendar-day fa-2x"></i>
                                    <div class="stat-value" id="daily-study-time">0h 0m</div>
                                    <div class="stat-label">H√¥m nay</div>
                                </div>

                                <div class="stat-card">
                                    <i class="fas fa-calendar-week fa-2x"></i>
                                    <div class="stat-value" id="weekly-study-time">0h</div>
                                    <div class="stat-label">Tu·∫ßn n√†y</div>
                                </div>
                                <!-- 
                                <div class="stat-card">
                                    <i class="fas fa-chart-line fa-2x"></i>
                                    <div class="stat-value" id="best-study-time">Ch∆∞a c√≥ d·ªØ li·ªáu</div>
                                    <div class="stat-label">Gi·ªù h·ªçc hi·ªáu qu·∫£</div>
                                </div> -->

                                <div class="stat-card">
                                    <i class="fas fa-chart-line fa-2x"></i>
                                    <div class="stat-value" id="max-streak">0</div>
                                    <div class="stat-label">üèÜ K·ª∑ l·ª•c streak</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="resources-tab">
            <div class="card">
                <h2 class="card-title">
                    <i class="fas fa-book"></i> T√†i nguy√™n h·ªçc t·∫≠p
                </h2>

                <div class="resources">
                    <h3><i class="fas fa-book-open"></i> S√°ch gi√°o tr√¨nh</h3>
                    <ul class="resource-list">
                        <li class="resource-item">
                            <i class="fas fa-book"></i><a
                                href="https://drive.google.com/drive/folders/18pEPRYZCFwDM1mfG-Ul8LxIkrQjNuAYc?usp=sharing">
                                Shin Kanzen Master N1</a>
                        </li>
                        <li class="resource-item">
                            <i class="fas fa-book"></i><a
                                href="https://drive.google.com/drive/folders/1A53-PaWkIfyKqYBrDeEI3PPHnAQMUjU8?usp=sharing">
                                Soumatome N1</a>
                        </li>
                    </ul>

                    <h3><i class="fas fa-headphones"></i> T√†i nguy√™n nghe</h3>
                    <ul class="resource-list">
                        <li class="resource-item">
                            <i class="fas fa-podcast"></i><a href="https://www3.nhk.or.jp/news/easy/"> NHK News Web Easy</a>
                        </li>
                        <li class="resource-item">
                            <i class="fas fa-globe"></i><a href="https://supernative.tv/ja/"> Super Native Japanese</a>
                        </li>
                        <li class="resource-item">
                            <i class="fas fa-podcast"></i><a href="https://nihongoconteppei.com/"> Nihongo con Teppei</a>
                        </li>
                    </ul>

                    <h3><i class="fas fa-laptop"></i> Website & ·ª®ng d·ª•ng</h3>
                    <ul class="resource-list">
                        <li class="resource-item">
                            <i class="fas fa-mobile-alt"></i><a href="https://recall.cards/app"> Recall Card</a>
                        </li>
                        <li class="resource-item">
                            <i class="fas fa-globe"></i><a href="https://flashcard-ashen-three.vercel.app/">Flashcard
                                Web</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="tab-content" id="ai-tab">
            <div class="card">
                <h2 class="card-title">
                    <i class="fas fa-robot"></i> Tr·ª£ l√Ω AI H·ªçc t·∫≠p
                </h2>

                <div class="ai-suggestion">
                    <h3><i class="fas fa-lightbulb"></i> G·ª£i √Ω h·ªçc t·∫≠p</h3>
                    <p id="ai-suggestion-content">B·∫°n n√™n t·∫≠p trung v√†o c√°c ƒëi·ªÉm ng·ªØ ph√°p N2 tr∆∞·ªõc khi chuy·ªÉn sang N1.
                        H√£y d√†nh √≠t nh·∫•t 45 ph√∫t m·ªói ng√†y cho vi·ªác h·ªçc ng·ªØ ph√°p v√† l√†m b√†i t·∫≠p.</p>
                </div>

                <div class="ai-suggestion">
                    <h3><i class="fas fa-question-circle"></i> H·ªèi ƒë√°p v·ªõi AI</h3>
                    <p>ƒê·∫∑t c√¢u h·ªèi v·ªÅ ng·ªØ ph√°p, t·ª´ v·ª±ng ho·∫∑c b·∫•t k·ª≥ th·∫Øc m·∫Øc n√†o:</p>
                    <textarea style="resize: none;" class="task-input" id="ai-question"
                        placeholder="C√¢u h·ªèi c·ªßa b·∫°n..."></textarea>
                    <button class="week-btn" id="submit-question">G·ª≠i c√¢u h·ªèi</button>
                    <div id="ai-response"
                        style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; display: none;">
                        <p><strong>Tr·∫£ l·ªùi:</strong> <span id="ai-answer"></span></p>
                    </div>
                    <div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                        <p>
                            <strong>V√≠ d·ª•:</strong> "S·ª± kh√°c nhau gi·ªØa ÔΩû„ÅØ„Åö„Å† v√† ÔΩû„Åπ„Åç„Å†?"
                        </p>
                    </div>
                </div>

                <div class="ai-suggestion">
                    <h3><i class="fas fa-chart-line"></i> Ph√¢n t√≠ch ti·∫øn ƒë·ªô</h3>
                    <div id="progress-analysis">
                        <p>D·ª±a tr√™n d·ªØ li·ªáu h·ªçc t·∫≠p c·ªßa b·∫°n, AI g·ª£i √Ω b·∫°n n√™n t·∫≠p trung nhi·ªÅu h∆°n v√†o k·ªπ nƒÉng nghe hi·ªÉu.
                            H√£y d√†nh th√™m 20% th·ªùi gian h·ªçc cho k·ªπ nƒÉng n√†y.</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>L·ªô tr√¨nh h·ªçc JLPT N1 - ƒê∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho b·∫°n</p>
            <p>D·ª±a tr√™n k·∫ø ho·∫°ch t·ª´ 10/7/2025 ƒë·∫øn 6/12/2025</p>
        </footer>
    </div>

    <!-- Modal ngh·ªâ ng∆°i -->
    <div class="modal" id="break-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-break-modal">&times;</span>
            <h2><i class="fas fa-coffee"></i> ƒê√£ ƒë·∫øn l√∫c ngh·ªâ ng∆°i!</h2>
            <p id="break-message">
                <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t b·∫±ng JavaScript -->
            </p>
            <button class="week-btn" id="start-break-btn">B·∫Øt ƒë·∫ßu ngh·ªâ ng∆°i</button>
        </div>
    </div>

    <!-- Modal ch·ªânh s·ª≠a nhi·ªám v·ª• -->
    <div class="modal" id="edit-day-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-edit-modal">&times;</span>
            <h2><i class="fas fa-edit"></i> Ch·ªânh s·ª≠a nhi·ªám v·ª•</h2>
            <div id="modal-date">Th·ª© 2, 10/07/2025</div>

            <div class="form-group">
                <label>Th·ªùi gian h·ªçc (ph√∫t):</label>
                <input type="number" id="study-duration" min="0" value="60">
            </div>

            <h3>Nhi·ªám v·ª•:</h3>
            <div id="tasks-container">
                <!-- Nhi·ªám v·ª• s·∫Ω ƒë∆∞·ª£c th√™m ƒë·ªông ·ªü ƒë√¢y -->
            </div>

            <button id="add-task-btn" class="btn btn-primary">
                <i class="fas fa-plus"></i> Th√™m nhi·ªám v·ª•
            </button>
            <button id="save-day-btn" class="btn btn-primary" style="margin-top: 15px">
                <i class="fas fa-save"></i> L∆∞u thay ƒë·ªïi
            </button>
        </div>
    </div>

    <!-- Modal ƒë·∫øm ng∆∞·ª£c th·ªùi gian h·ªçc -->
    <div class="modal" id="countdown-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-countdown-modal">&times;</span>
            <h2><i class="fas fa-clock"></i> Th·ªùi gian h·ªçc t·∫≠p</h2>

            <div class="timer-settings">
                <div class="timer-setting">
                    <label>Th·ªùi gian h·ªçc (ph√∫t)</label>
                    <input type="number" id="study-minutes" min="1" value="45" />
                </div>
                <div class="timer-setting">
                    <label>Th·ªùi gian ngh·ªâ (ph√∫t)</label>
                    <input type="number" id="break-minutes" min="1" value="5" />
                </div>
            </div>

            <div class="timer-container">
                <div class="timer-display" id="timer-display">45:00</div>
                <div class="timer-controls">
                    <button class="timer-btn start" id="start-timer">B·∫Øt ƒë·∫ßu</button>
                    <button class="timer-btn pause" id="pause-timer" style="display: none">
                        T·∫°m d·ª´ng
                    </button>
                    <button class="timer-btn stop" id="stop-timer" style="display: none">
                        D·ª´ng
                    </button>
                </div>
                <div class="timer-status" id="timer-status">
                    S·∫µn s√†ng b·∫Øt ƒë·∫ßu h·ªçc...
                </div>
            </div>

            <div class="rest-suggestion">
                <p><i class="fas fa-lightbulb"></i> Sau th·ªùi gian h·ªçc, b·∫°n n√™n:</p>
                <ul style="list-style: none;">
                    <li>Nh·∫Øm m·∫Øt ngh·ªâ ng∆°i 1 ph√∫t</li>
                    <li>U·ªëng m·ªôt ly n∆∞·ªõc</li>
                    <li>ƒêi b·ªô v√†i b∆∞·ªõc xung quanh</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>

</html>